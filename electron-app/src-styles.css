@tailwind base;
@tailwind components;
@tailwind utilities;

/* Custom animations */
@layer utilities {
  .slide-in {
    animation: slideIn 0.25s ease-in-out;
  }

  .slide-out {
    animation: slideOut 0.25s ease-in-out;
  }
}

@keyframes slideIn {
  from {
    opacity: 0;
    transform: translateX(20px) scale(0.8);
  }
  to {
    opacity: 1;
    transform: translateX(0) scale(1);
  }
}

@keyframes slideOut {
  from {
    opacity: 1;
    transform: translateX(0) scale(1);
  }
  to {
    opacity: 0;
    transform: translateX(20px) scale(0.8);
  }
}

/* Custom scrollbar styles */
@layer base {
  .custom-scrollbar {
    scrollbar-width: thin;
    scrollbar-color: rgba(255, 255, 255, 0.3) transparent;
  }

  .custom-scrollbar::-webkit-scrollbar {
    @apply w-2;
  }

  .custom-scrollbar::-webkit-scrollbar-track {
    @apply bg-transparent;
  }

  .custom-scrollbar::-webkit-scrollbar-thumb {
    @apply bg-white/20 rounded border border-white/10;
  }

  .custom-scrollbar::-webkit-scrollbar-thumb:hover {
    @apply bg-white/30;
  }
}

/* Text box visibility states */
@layer components {
  .text-box.visible {
    @apply opacity-100 scale-100 pointer-events-auto;
  }

  /* Liquid puddle states */
  .text-box {
    transition: all 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
  }

  .text-box.puddle-right {
    width: 70px !important;
    min-height: 280px !important;
    max-height: 280px !important;
    border-radius: 35px 0 0 35px !important;
    right: -10px !important;
  }

  .text-box.puddle-left {
    width: 70px !important;
    min-height: 280px !important;
    max-height: 280px !important;
    border-radius: 0 35px 35px 0 !important;
    left: -10px !important;
    right: auto !important;
  }

  .text-box.puddle-top {
    width: 280px !important;
    min-height: 70px !important;
    max-height: 70px !important;
    border-radius: 0 0 35px 35px !important;
    top: -10px !important;
  }

  .text-box.puddle-bottom {
    width: 280px !important;
    min-height: 70px !important;
    max-height: 70px !important;
    border-radius: 35px 35px 0 0 !important;
    top: auto !important;
    bottom: -10px !important;
  }

  /* Puddle content should be hidden */
  .text-box.puddle-right .text-content,
  .text-box.puddle-left .text-content,
  .text-box.puddle-top .text-content,
  .text-box.puddle-bottom .text-content {
    opacity: 0;
    pointer-events: none;
  }

  /* Stretching animation during pull-out */
  .text-box.stretching {
    transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  }

  /* Ripple effect on absorption */
  @keyframes puddle-ripple {
    0% { transform: scale(1); }
    50% { transform: scale(1.08); }
    100% { transform: scale(1); }
  }

  .text-box.absorbing {
    animation: puddle-ripple 0.4s ease-out;
  }
}

/* OCR and suggestion component styles */
@layer components {
  .ocr-line {
    @apply mb-1 pb-0.5;
  }

  .ocr-line:last-child {
    @apply mb-0;
  }

  .app-header {
    @apply text-[#00d4aa] text-[11px] font-bold mb-1.5 pb-[3px] border-b border-[#333];
  }

  .plain-suggestion {
    @apply my-1 py-0.5 cursor-pointer transition-opacity duration-200 ease-in-out hover:opacity-80;
  }

  .suggestion-text {
    @apply text-white text-xs leading-[1.4] font-normal mb-1.5;
  }

  .guide-button {
    @apply bg-gradient-to-br from-[#007acc] to-[#0056b3] text-white border-none px-3 py-2 rounded-md text-[11px] font-medium cursor-pointer mt-2 transition-all duration-200 ease-in-out border border-white/10 backdrop-blur-[10px];
  }

  .guide-button:hover {
    @apply bg-gradient-to-br from-[#0056b3] to-[#004494] -translate-y-px shadow-[0_4px_12px_rgba(0,122,204,0.3)];
  }

  .guide-button:disabled {
    @apply bg-[#666666]/50 cursor-not-allowed transform-none shadow-none;
  }

  .detailed-guide {
    @apply mt-2 p-2 bg-white/5 rounded border-l-[3px] border-l-[#007acc] max-h-[300px] overflow-y-auto;
  }

  .detailed-guide.hidden {
    display: none;
  }

  .implementation-guide {
    @apply text-white text-[10px] leading-[1.3];
  }

  .guide-section {
    @apply mb-2 pb-1.5 border-b border-white/10;
  }

  .guide-section:last-child {
    @apply border-b-0 mb-0;
  }

  .guide-section h4 {
    @apply text-[#00d4aa] text-[11px] m-0 mb-1 font-bold;
  }

  .download-item {
    @apply bg-[#00d4aa]/10 px-1.5 py-1 my-[3px] rounded-[3px] text-[9px];
  }

  .download-link {
    @apply text-[#007acc] no-underline text-[8px] hover:underline;
  }

  .prerequisites ul {
    @apply my-0.5 pl-3 text-[9px];
  }

  .estimated-time {
    @apply text-[#ccc] text-[9px] mb-1.5 italic;
  }

  .implementation-step {
    @apply mb-2 p-1.5 bg-white/[0.03] rounded-[3px];
  }

  .step-header {
    @apply flex items-center mb-[3px];
  }

  .step-number {
    @apply bg-[#007acc] text-white w-4 h-4 rounded-full flex items-center justify-center text-[8px] font-bold mr-1.5 flex-shrink-0;
  }

  .step-title {
    @apply text-white text-[10px] font-bold;
  }

  .step-description {
    @apply text-[#ccc] text-[9px] mb-1 ml-[22px];
  }

  .step-actions {
    @apply ml-[22px];
  }

  .action-item {
    @apply my-0.5 py-[3px] px-1 bg-[#007acc]/10 rounded-[2px];
  }

  .action-type {
    @apply bg-[#555] text-white py-px px-1 rounded-[2px] text-[8px] mr-1 uppercase;
  }

  .action-instruction {
    @apply text-white text-[9px];
  }

  .action-details {
    @apply text-[#ccc] text-[8px] mt-0.5 pl-2 border-l-2 border-[#666];
  }

  .action-shortcut {
    @apply text-[#00d4aa] text-[8px] mt-0.5 font-mono;
  }

  .step-verification {
    @apply text-[#4CAF50] text-[8px] mt-1 ml-[22px] py-0.5 px-1 bg-[#4CAF50]/10 rounded-[2px];
  }

  .step-troubleshooting {
    @apply text-[#ff9800] text-[8px] mt-0.5 ml-[22px] py-0.5 px-1 bg-[#ff9800]/10 rounded-[2px];
  }

  .testing-info p {
    @apply my-0.5 text-[9px];
  }

  .testing-info ul {
    @apply my-0.5 pl-3 text-[8px];
  }

  .power-tips, .advanced-settings {
    @apply my-1;
  }

  .power-tips ul, .advanced-settings ul {
    @apply my-0.5 pl-3 text-[8px];
  }

  .guide-error {
    @apply text-[#ff6b6b] text-center p-2 text-[9px];
  }

  .no-suggestions {
    @apply text-[#666] text-[10px] italic my-1 text-center;
  }

  .debug-value.status-waiting {
    @apply text-[#ffaa00];
  }

  .debug-value.status-success {
    @apply text-[#00ff88];
  }

  .debug-value.status-error {
    @apply text-[#ff4444];
  }
}

/* Settings window specific styles */
@layer components {
  /* Hide checkbox visually but keep accessible */
  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border-width: 0;
  }
}
